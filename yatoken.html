<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –Ø–Ω–¥–µ–∫—Å</title>
  <style>
    body {
      font-family: sans-serif;
      line-height: 1.5;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      color: #333;
    }
    code {
      background: #eee;
      padding: 2px 5px;
      border-radius: 4px;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div id="instructions">
    <h1>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞ –Ø–Ω–¥–µ–∫—Å</h1>
    <ol>
      <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä <strong>Teak</strong> –∏–∑ App Store:  
        <a href="https://apps.apple.com/ru/app/—Ç–µ–∞k-–±—Ä–∞—É–∑–µ—Ä-tampermonkey/id6443938027" target="_blank">
          –°–∫–∞—á–∞—Ç—å Teak
        </a>
      </li>
      <li>–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö iOS –≤–∫–ª—é—á–∏—Ç–µ: <strong>–ó–∞–ø—Ä–µ—Ç –Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</strong>.</li>
      <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:
        <a href="https://github.com/pegakmop/pegakmop.github.io/raw/main/yatoken.user.js" target="_blank">
          –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
        </a>
      </li>
      <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
        <br>
        <a href="https://oauth.yandex.ru/authorize?response_type=token&client_id=23cabbbdc6cd418abb4b39c32c41195d">
          –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ –Ø–Ω–¥–µ–∫—Å
        </a>
      </li>
    </ol>
    <p>–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å <code>#access_token=...</code>. –°–∫—Ä–∏–ø—Ç —Å–∞–º —Å–∫–æ–ø–∏—Ä—É–µ—Ç —Ç–æ–∫–µ–Ω –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞.</p>
  </div>

  <div id="donate" class="hidden">
    <h2>üéâ –¢–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</h2>
    <p><strong id="token"></strong></p>
    <p>–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –∞–≤—Ç–æ—Ä–∞ —Ä—É–±–ª—ë–º, –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω:</p>
    <a href="https://yoomoney.ru/to/410012481566554" style="font-size: 1.2em; font-weight: bold;" target="_blank">
      üëâ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –Ω–∞ –ÆMoney
    </a>
  </div>

  <script>
    (function() {
      const hash = location.hash;

      if (hash.includes("access_token=")) {
        // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–∫–µ–Ω –±–µ–∑ —Ä–µ—à—ë—Ç–∫–∏
        const token = new URLSearchParams(hash.substring(1)).get("access_token");

        if (token) {
          // –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω
          navigator.clipboard.writeText(token).then(() => {
            alert("‚úÖ –¢–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!");

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å —Ç–æ–∫–µ–Ω–æ–º
            document.getElementById("instructions").classList.add("hidden");
            document.getElementById("donate").classList.remove("hidden");
            document.getElementById("token").textContent = token;

            // –û—á–∏—â–∞–µ–º —Ö–µ—à –∏–∑ –∞–¥—Ä–µ—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            history.replaceState(null, "", location.pathname);
          }).catch(err => {
            alert("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω: " + err);
          });
        }
      }
    })();
  </script>
</body>
</html>
